<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>File</title>
    <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,300italic,400italic,700italic|Source+Code+Pro:300,400,700' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="../assets/css/bootstrap.css">
<link rel="stylesheet" href="../assets/css/jquery.bonsai.css">
<link rel="stylesheet" href="../assets/css/main.css">
<link rel="stylesheet" href="../assets/icon-font/icons.css">
<script type="text/javascript" src="../assets/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript" src="../assets/js/bootstrap.js"></script>
<script type="text/javascript" src="../assets/js/jquery.bonsai.js"></script>

  </head>
  <body>
    <div>

      <!-- Name Title -->

      <h1>File</h1>

      <!-- Type and Stereotype -->

      <section style="margin-top: .5em;">
        <span class="alert alert-info">
          <span class="node-icon staruml-icon icon-UMLClass"></span>
          UMLClass
        </span>
        
      </section>

      <!-- Path -->

      <section style="margin-top: 10px">
        
        
        
          
          <span class="label label-info"><a href='cf9c8b720f3815adeccaf3ef6e48c6c4.html'><span class='node-icon staruml-icon icon-Project'></span>Disk Simulator for Data recovery</a></span>
        
          <span>::</span>
          <span class="label label-info"><a href='594af663de577680f35b13183109d675.html'><span class='node-icon staruml-icon icon-UMLModel'></span>Model</a></span>
        
          <span>::</span>
          <span class="label label-info"><a href='a18d0c7ccd6ab38c9757ad02c387a4a7.html'><span class='node-icon staruml-icon icon-UMLClass'></span>File</a></span>
        
      </section>

      <!-- Diagram -->

      

      <!-- Description -->

      
      <section>
        <h3>Description</h3>
        <div>
          
            <span class="label label-info">none</span>
          
        </div>
      </section>
      

      <!-- Specification -->

      

      <!-- Directed Relationship -->

      

      <!-- Undirected Relationship -->

      

      <!-- Classifier -->

      
        
        


        
        


        
        


        
        


        
        

      

      <!-- Interface -->

      

      <!-- Component -->

      

      <!-- Node -->

      

      <!-- Actor -->

      

      <!-- Use Case -->

      

      <!-- Template Parameters -->

      

      <!-- Literals -->

      

      <!-- Attributes -->

      
      <section>
        <h3>Attributes</h3>
        <table class="table table-striped table-bordered">
          <tr>
            <th>Visibility</th>
            <th>Name</th>
            <th>Type</th>
            <th>Description</th>
          </tr>
          
          <tr>
            <td>public</td>
            <td><a href="f8212d04c4356c2a91af01755df7f703.html">HashSet[Block] blockList</a></td>
            <td><span class='label label-info'>none</span></td>
            <td><p>Set of blocks allocated to the file
Note that the blocks set is complete when the file is in use, partial when deleted and overwritten by another file, empty when obsolete</p>

<p>Only blocks allocated to this file</p></td>
          </tr>
          
          <tr>
            <td>public</td>
            <td><a href="7489e13901e1c2a99023b0b33748357c.html">States [used; deleted; obsolete]</a></td>
            <td><span class='label label-info'>none</span></td>
            <td><p>Three states of file:
- Used: The file is in memory currently
- Deleted: The file is deleted and blocks can be overwritten / allocated to other files
- Obsolete: No blocks allocated to this file and thus this file can be ignored</p></td>
          </tr>
          
          <tr>
            <td>public</td>
            <td><a href="99e1072494fe57ba988e2dddb59c11cf.html">int linking_factor</a></td>
            <td><span class='label label-info'>none</span></td>
            <td><p>0 to 10
Should be same for all blocks allocated to this file</p></td>
          </tr>
          
          <tr>
            <td>public</td>
            <td><a href="3cedf232e0ebe14a3d7e947660fde031.html">int size</a></td>
            <td><span class='label label-info'>none</span></td>
            <td></td>
          </tr>
          
        </table>
      </section>
      

      <!-- Operations -->

      
      <section>
        <h3>Operations</h3>
        <table class="table table-striped table-bordered">
          <tr>
            <th>Visibility</th>
            <th>Name</th>
            <th>Description</th>
          </tr>
          
          <tr>
            <td>public</td>
            <td><a href="0185023492af0deed7c0ffc50d02ec85.html">createFile(blockList, lf)</a></td>
            <td><p>Constructor for file
Called when file created.
Uses the blockList passed as its blocklist and sets lf as input
Sets file size as size of blockList argument
- Assert that the blocklist blocks are unused 
- Iterate through all blocks and if their parentFile pointer null then allocate otherwise deleteBlock from their parentFile and then allocate to this file</p></td>
          </tr>
          
          <tr>
            <td>public</td>
            <td><a href="d0b71d4d0707abacd803673b03a12cc9.html">deleteFile()</a></td>
            <td><p>Delete file operation
Call setUnused() to all in blockList
(Does not deallocate parentFile pointer of these blocks)</p></td>
          </tr>
          
          <tr>
            <td>public</td>
            <td><a href="19b9e0ef6e644e152e7a278556e8e35b.html">deleteBlock(Block b)</a></td>
            <td><p>Delete this block from this file
Increase HF of all other blocks of the file.</p>

<p>If the blocklist becomes empty then change state to Obsolete</p></td>
          </tr>
          
          <tr>
            <td>public</td>
            <td><a href="ef8a9f7f5fd7ed256ecac11316d8d9d8.html">readWriteFile()</a></td>
            <td><p>Increase UF of all blocks in the file by 1</p></td>
          </tr>
          
          <tr>
            <td>public</td>
            <td><a href="1266808ca18f0baf6ce3a8b88f6ee54f.html">getRecoveryRatio()</a></td>
            <td><p>Assert that file is unused state
Calculate rr of files as current size of blockList of file / original size of file for linking factor 0.
For linking factor 10, 0 if size(blockList) &lt; original size, and 1 otherwise.
reurn rr</p></td>
          </tr>
          
          <tr>
            <td>public</td>
            <td><a href="1b9b6ba94def72675c469c8ca1166685.html">getSLM()</a></td>
            <td><p>Assert that file is used
Returns the rms deviation of all blocks of the file in terms of their i, j locations.
return slm</p></td>
          </tr>
          
        </table>
      </section>
      

      <!-- Receptions -->

      

      <!-- Extension Points -->

      

      <!-- Parameters -->

      

      <!-- Diagrams -->

      
      

      <!-- Behavior -->

      

      <!-- Action -->

      

      <!-- Interaction -->

      

      <!-- CombinedFragment -->

      

      <!-- Activity -->

      

      <!-- State Machine -->

      

      <!-- State Machine -->

      

      <!-- State -->

      

      <!-- Vertex -->

      

      <!-- Transition -->

      

      <!-- Data Model (ERD) -->

      

      <!-- Columns (ERD) -->

      

      <!-- Related Entities (ERD) -->

      

      <!-- Data Flows (DFD) -->

      

      <!-- Flows (Flowchart) -->

      

      <!-- Properties -->

      <section>
        <h3>Properties</h3>
        
        <table class="table table-striped table-bordered">
    <tr>
        <th width="50%">Name</th>
        <th width="50%">Value</th>
    </tr>
    
    
    
    
    
    
    
    <tr>
        <td>name</td>
        <td>File</td>
    </tr>
    
    
    
    
    
    
    
    
    
    
    
    <tr>
        <td>stereotype</td>
        <td><span class='label label-info'>null</span></td>
    </tr>
    
    
    
    
    
    <tr>
        <td>visibility</td>
        <td>public</td>
    </tr>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <tr>
        <td>isAbstract</td>
        <td><span class='label label-info'>false</span></td>
    </tr>
    
    
    
    
    
    <tr>
        <td>isFinalSpecialization</td>
        <td><span class='label label-info'>false</span></td>
    </tr>
    
    
    
    
    
    <tr>
        <td>isLeaf</td>
        <td><span class='label label-info'>false</span></td>
    </tr>
    
    
    
    
    
    <tr>
        <td>isActive</td>
        <td><span class='label label-info'>false</span></td>
    </tr>
    
    
    
</table>                

      </section>

      <!-- Tags -->

      

      <!-- Constraints, Dependencies, Dependants -->

      
        
        


        
        


        
        

      

      <!-- Relationships -->

      
      
<section class="element-list">
    <h3>Relationships</h3>
    <ul class="nav nav-list">
        
        <li><a href='394eb2176a876a909f0f54cd65172a0c.html'><span class='node-icon staruml-icon icon-UMLAssociation'></span>(Block—File)</a></li>
        
        <li><a href='72cd31360d762eb238dbdd2984026730.html'><span class='node-icon staruml-icon icon-UMLAssociation'></span>(File—Memory)</a></li>
        
    </ul>
</section>



      <!-- Owned Elements -->

      
      
<section class="element-list">
    <h3>Owned Elements</h3>
    <ul class="nav nav-list">
        
        <li><a href='72cd31360d762eb238dbdd2984026730.html'><span class='node-icon staruml-icon icon-UMLAssociation'></span>(File—Memory)</a></li>
        
    </ul>
</section>



    </div>
  </body>
</html>
